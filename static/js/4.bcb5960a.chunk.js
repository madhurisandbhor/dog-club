(this["webpackJsonpdog-club"]=this["webpackJsonpdog-club"]||[]).push([[4],{241:function(e,t){},242:function(e,t){},251:function(e,t){},278:function(e,t,i){"use strict";i.r(t);var n=i(3),r=i(0),a=i(232),o=(i(235),i(2)),c=i(4),l=i(7),s=i.n(l),d=i(10),m=i(275),u=(i(274),i(6)),p=i(8),g=i.p+"static/media/cancel-icon.c4498ba1.svg",b=i(13),h={root:{display:"flex",flexDirection:"column",alignItems:"center",justifyItems:"center",fontSize:"1.6rem"},previewImg:{display:"flex",flexDirection:"column",alignItems:"center",justifyItems:"center",position:"relative",boxShadow:"0 7px 30px -10px rgba(150,170,180,0.5)",marginTop:"2rem",width:"20rem","& > img":{margin:"1rem",width:"18rem",height:"18rem"}},uploadBtn:{display:"flex",alignItems:"center",marginTop:"1.5rem","& > p":{alignSelf:"center",marginRight:"1rem",fontSize:"1.6rem"},"& > button":{background:"#02bef7",color:"white",border:0,padding:"0.5rem 1rem",borderRadius:"0.5rem","&:hover":{cursor:"pointer",background:"#02bef7",color:"white"}}},removeButton:{position:"absolute",top:"0.5rem",right:"0.5rem",border:0},breedName:{margin:"0 auto 1rem auto",width:"100%",textAlign:"center",padding:"0 1rem",minHeight:"3.6rem","& > div":{color:"#02bef7",overflow:"hidden",textOverflow:"ellipsis",fontWeight:"bold",whiteSpace:"noWrap",width:"100%",textTransform:"capitalize"}},hidden:{display:"none"},error:{color:"red",margin:"1rem auto"},action:{position:"relative",minHeight:"5rem",textAlign:"center"},visiblity:{visibility:"hidden"},"@media (max-width: 600px)":{uploadBtn:{flexDirection:"column","& > p":{marginRight:0},"& > button":{marginTop:"1rem"}}}},f=i(1),j=function(e){var t=e.classes,i=e.image,a=e.removeImg,o=e.dogsList,l=e.onUpload,h=Object(r.useRef)(null),j=Object(r.useReducer)(b.a,{loading:!1,error:null,data:[]}),x=Object(n.a)(j,2),v=x[0],O=x[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(d.a)(s.a.mark((function e(){var t,i,n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h||!h.current){e.next=19;break}return e.prev=1,O({type:"loading"}),t=[],e.next=6,m.a();case 6:return i=e.sent,e.next=9,i.classify(h.current);case 9:n=e.sent,(r=n[0].className)&&(t=o.filter((function(e){return r.toLowerCase().includes(e)}))),t.length>0?O({type:"success",payload:t}):O({type:"error",payload:"Breed not indentified, try another photo"}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),a=e.t0.message?e.t0.message:e.t0,O({type:"error",payload:a});case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[o]),Object(f.jsxs)("div",{className:t.root,"data-testid":"image-preview-root",children:[Object(f.jsxs)("div",{className:t.previewImg,children:[Object(f.jsx)("button",{type:"button",id:"imgRemoveButton",onClick:a,className:t.removeButton,children:Object(f.jsx)("img",{src:g,alt:"cancelBtn"})}),Object(f.jsx)("img",{src:i,alt:"dogImagePreview",ref:h,id:"previewImg"}),Object(f.jsxs)("div",{className:Object(u.a)(t.breedName,Object(c.a)({},t.visiblity,0===v.data.length)),children:[Object(f.jsx)("p",{children:"Dog Breed"}),Object(f.jsx)("div",{"data-testid":"dogBreed",children:v.data.length>0&&v.data.join(", ")})]})]}),Object(f.jsxs)("div",{className:t.action,children:[v.loading&&Object(f.jsx)(p.a,{id:"imageFile"}),!v.loading&&v.error&&Object(f.jsx)("div",{id:"error",className:t.error,children:v.error}),!v.loading&&!v.error&&Object(f.jsxs)("div",{className:t.uploadBtn,children:[Object(f.jsx)("p",{children:"Do you want to upload this image?"}),Object(f.jsx)("button",{type:"button",id:"uploadImage",onClick:function(){return l(i,v.data)},children:"Upload"})]})]})]})},x=Object(o.a)(h)(Object(r.memo)(j)),v={modal:{width:"60rem",height:"40rem",borderRadius:"0.8rem",fontSize:"1.6rem",outline:"none"},container:{padding:"1.5rem",overflow:"auto",maxHeight:"100%",width:"100%",height:"100%"},content:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%","& > p":{fontSize:"1.6rem",fontWeight:"bold"}},preview:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},fileInput:{width:"50%"},"@media (max-width: 600px)":{modal:{width:"30rem",fontSize:"1.4rem"},container:{padding:"1rem"},fileInput:{width:"100%"}}};t.default=Object(o.a)(v)((function(e){var t=e.classes,i=e.dogsList,o=e.open,c=e.closeModal,l=e.onUpload,s=Object(r.useState)(""),d=Object(n.a)(s,2),m=d[0],u=d[1],p=Object(r.useRef)(null),g=Object(r.useCallback)((function(){u(""),p&&p.current&&(p.current.value="")}),[]),b=Object(r.useCallback)((function(){g(),c()}),[c,g]),h=Object(r.useCallback)((function(e,t){g(),l(e,t)}),[g,l]);return Object(f.jsx)(a.a,{open:o,onClose:b,center:!0,classNames:{modal:t.modal},children:Object(f.jsx)("div",{className:t.container,children:Object(f.jsxs)("div",{className:t.content,children:[Object(f.jsx)("p",{children:"Upload your dog's image"}),Object(f.jsx)("div",{className:t.preview,children:m?Object(f.jsx)(x,{image:m,removeImg:g,dogsList:i,onUpload:h}):Object(f.jsx)("input",{id:"inputFile","data-testid":"input-file",name:"dogImage",type:"file",accept:"image/*",ref:p,onChange:function(e){var t=e.target;if(t.files&&t.files[0]){var i=t.files[0];u(URL.createObjectURL(i))}},className:t.fileInput})})]})})})}))}}]);
//# sourceMappingURL=4.bcb5960a.chunk.js.map